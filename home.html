<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Porte - Home</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="home-page">
    <nav class="menu-bar">
        <div class="menu-content">
            <a href="index.html">
                <img src="image/logo/verticallaportelogo.png" alt="La Porte" class="menu-logo">
            </a>
            <button class="mobile-menu-toggle">
                <img src="image/menu.svg" alt="Menu" class="menu-icon">
            </button>
            <div class="menu-items">
                <a href="pdf/menu.pdf" target="_blank" class="menu-item">MENU</a>
                <a href="events.html" class="menu-item">EVENTS</a>
                <a href="reservations.html" class="menu-item">RESERVATIONS</a>
                <a href="guestlist.html" class="menu-item">GUEST LIST</a>
            </div>
        </div>
    </nav>

    <div class="video-container">
        <video autoplay muted loop plays-inline>
            <source src="image/videos/videoporte1.mp4" type="video/mp4">
        </video>
    </div>
    <img src="image/scrolling.gif" alt="Scroll down" class="scroll-indicator">
    <main class="main-content">
        <div class="content-section">
            <div class="upcoming-events">
                <h2 class="home-section-title" style="margin-top: 3rem;">U<span class="red-letter">P</span>COMING EVENTS</h2>
                <div class="events-grid">
                    <div class="event-card">
                        <div class="event-image">
                            <img src="image/events/event1.png" alt="Event 1">
                        </div>
                        <div class="event-details">
                            <h3>Hip Hop/Amapiano</h3>
                            <p>Every Thursday</p>
                            <p>DJ Jokege</p>
                        </div>
                    </div>
                    <div class="event-card">
                        <div class="event-image">
                            <img src="image/events/event2.png" alt="Event 2">
                        </div>
                        <div class="event-details">
                            <h3>Afro Caribbean</h3>
                            <p>Every Friday</p>
                            <p>DJ Apache</p>
                        </div>
                    </div>
                    <div class="event-card">
                        <div class="event-image">
                            <img src="image/events/event3.png" alt="Event 3">
                        </div>
                        <div class="event-details">
                            <h3>Link Up</h3>
                            <p>Every Saturday</p>
                            <p>DJ Jokege</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="view-all-container">
                <a href="events.html" class="view-all-button">VIEW ALL EVENTS</a>
            </div>
        </div>

        <div class="experience-section">
            <div class="experience-content">
                <h2>LIVE THE EX<span class="red-letter">P</span>ERIENCE OF LA <span class="red-letter">P</span>ORTE</h2>
            </div>
        </div>
        <div class="content-section-for-sm">
            <div class="follow-section">
                <h2 class="home-section-title">FOLLOW US</h2>
                <div class="social-video-container">
                    <video autoplay muted loop class="social-video">
                        <source src="image/videos/socialmedia.mp4" type="video/mp4">
                    </video>
                </div>
                <div class="social-links">
                    <a href="https://www.facebook.com/clublaporte" class="social-link">
                        <img src="image/social media/logofacebook.svg" alt="Facebook">
                        <span>Facebook</span>
                    </a>
                    <a href="https://www.instagram.com/clublaporte/" class="social-link">
                        <img src="image/social media/logoig.svg" alt="Instagram">
                        <span>Instagram</span>
                    </a>
                    <a href="https://www.tiktok.com/@clublaporteofficiel" class="social-link">
                        <img src="image/social media/logotiktok.svg" alt="TikTok">
                        <span>TikTok</span>
                    </a>
                </div>
            </div>
        </div>
        <div id="imageModal" class="modal">
            <span class="close">&times;</span>
            <img class="modal-content" id="modalImg">
        </div>
    </main>

    <footer class="footer">
        <div class="footer-left">
            <img src="image/logo/fullHorizontallogo.png" alt="La Porte Logo" class="footer-logo">
        </div>
        
        <nav class="footer-nav">
            <a href="pdf/menu.pdf" target="_blank" class="footer-link">MENU</a>
            <a href="contact.html" class="footer-link">CONTACT</a>
            <a href="events.html" class="footer-link">EVENTS</a>
            <a href="" class="footer-link">RESERVATIONS</a>
            <a href="" class="footer-link">GUEST LIST</a>
        </nav>
        
        <div class="footer-right">
            <div class="footer-info">
                <div class="info-item">LA <span class="footer-red-letter">P</span>ORTE</div>
                <div class="info-item">
                    <a href="https://www.google.com/maps/search/?api=1&query=3519+Boul.+St-Laurent+Montreal+QC+H2X+2T6" target="_blank" class="footer-link">
                        3519 Boul. St-Laurent, Montreal, QC H2X 2T6
                    </a>
                </div>
                <div class="info-item">
                    <a href="tel:438-380-8007" class="footer-link">438.380.8007</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const menuBar = document.querySelector('.menu-bar');
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const menuItems = document.querySelector('.menu-items');
        let lastScrollPosition = window.scrollY;
        let ticking = false;

        // Mobile menu toggle
        mobileMenuToggle.addEventListener('click', () => {
            const isExpanded = menuItems.classList.contains('show');
            if (isExpanded) {
                menuItems.classList.remove('show');
                menuBar.classList.remove('expanded-mobile');
                mobileMenuToggle.setAttribute('aria-expanded', 'false');
            } else {
                menuBar.classList.add('expanded-mobile');
                mobileMenuToggle.setAttribute('aria-expanded', 'true');
                // Add delay before showing menu items
                setTimeout(() => {
                    menuItems.classList.add('show');
                }, 200); // 200ms delay
            }
        });

        // Close menu when clicking menu items
        menuItems.addEventListener('click', (e) => {
            if (e.target.classList.contains('menu-item')) {
                menuItems.classList.remove('show');
                setTimeout(() => {
                    menuBar.classList.remove('expanded-mobile');
                    mobileMenuToggle.setAttribute('aria-expanded', 'false');
                }, 200); // 200ms delay before collapsing menu
            }
        });

        // Handle scroll event with throttling
        window.addEventListener('scroll', () => {
            lastScrollPosition = window.scrollY;
            
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    const windowHeight = window.innerHeight;
                    
                    // Only expand on scroll if screen width is greater than 1220px
                    if (window.innerWidth > 1220) {
                        if (lastScrollPosition >= windowHeight) {
                            menuBar.classList.add('expanded');
                        } else {
                            menuBar.classList.remove('expanded');
                        }
                    }
                    
                    ticking = false;
                });
                
                ticking = true;
            }
        });

        // Add this after your existing script
        document.addEventListener('DOMContentLoaded', function() {
            const videos = document.querySelectorAll('video');
            
            videos.forEach(video => {
                // Force play on load
                video.play().catch(function(error) {
                    console.log("Video play failed:", error);
                    
                    // If video fails to play, show the fallback image
                    if (video.firstElementChild.tagName === 'SOURCE') {
                        const img = video.lastElementChild;
                        if (img.tagName === 'IMG') {
                            video.style.display = 'none';
                            img.style.display = 'block';
                        }
                    }
                });

                // Try to play video on user interaction
                document.addEventListener('touchstart', function() {
                    video.play().catch(function(error) {
                        console.log("Video play failed after interaction:", error);
                    });
                }, { once: true });
            });
        });

        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImg");
        const closeBtn = document.getElementsByClassName("close")[0];

        document.querySelectorAll('.event-card').forEach(card => {
            card.addEventListener('click', function() {
                const img = this.querySelector('img');
                modal.style.display = "block";
                modalImg.src = img.src;
                // Add show class after a small delay to trigger animation
                setTimeout(() => modal.classList.add('show'), 10);
            });
        });

        function closeModal() {
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = "none";
            }, 300);
        }

        closeBtn.onclick = closeModal;
        modal.onclick = (e) => {
            if (e.target === modal) closeModal();
        };
    </script>
</body>
</html>
